(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{347:()=>{},914:(e,r,t)=>{"use strict";t.d(r,{CalculatorProvider:()=>y});var a=t(5155),n=t(2115),o=t(1472),i=t(2542);function l(e,r,t){switch(t){case"+":return e+r;case"-":return e-r;case"*":return e*r;case"/":if(0===r)throw Error("Division by zero");return e/r;case"^":return Math.pow(e,r);default:throw Error("Unknown operator: ".concat(t))}}function s(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return isFinite(e)?Math.abs(e)<Math.pow(10,-r)?"0":Math.abs(e)>Math.pow(10,r)?e.toExponential(6):parseFloat(e.toPrecision(r)).toString():"Error"}function u(e){let r=e.trim().split(" "),t=parseFloat(r[0]),a=r[1];return{operand:isNaN(t)?0:t,operator:a||null}}function c(){return"undefined"!=typeof crypto&&crypto.randomUUID?crypto.randomUUID():Math.random().toString(36).substring(2)+Date.now().toString(36)}let p={display:"0",equation:"",waitingForNewValue:!1,history:[],mode:"scientific",preferences:{defaultMode:"scientific",theme:"auto",precision:10,soundEnabled:!1,keyboardShortcuts:!0},error:null};function d(e,r){try{switch(r.type){case"NUMBER_INPUT":{let{digit:t,append:a}=r.payload;if(e.waitingForNewValue||!a)return{...e,display:t,waitingForNewValue:!1,error:null};return{...e,display:"0"===e.display?t:e.display+t,error:null}}case"OPERATOR_INPUT":{let{operator:t}=r.payload,a=parseFloat(e.display);if(""===e.equation)return{...e,equation:a+" "+t+" ",waitingForNewValue:!0,error:null};{let{operand:r,operator:n}=u(e.equation);if(n){let o=l(r,a,n);return{...e,display:s(o,e.preferences.precision),equation:o+" "+t+" ",waitingForNewValue:!0,error:null}}}return e}case"FUNCTION_CALL":{let{function:t,value:a}=r.payload,n=function(e,r){switch(r){case"sin":return Math.sin(e*Math.PI/180);case"cos":return Math.cos(e*Math.PI/180);case"tan":{let r=Math.tan(e*Math.PI/180);if(!isFinite(r))throw Error("Undefined result");return r}case"log":if(e<=0)throw Error("Logarithm of non-positive number");return Math.log10(e);case"ln":if(e<=0)throw Error("Natural logarithm of non-positive number");return Math.log(e);case"sqrt":if(e<0)throw Error("Square root of negative number");return Math.sqrt(e);case"1/x":if(0===e)throw Error("Division by zero");return 1/e;case"x\xb2":return e*e;default:throw Error("Unknown function: ".concat(r))}}(a,t),o="".concat(t,"(").concat(a,") = ").concat(s(n,e.preferences.precision));return{...e,display:s(n,e.preferences.precision),waitingForNewValue:!0,history:[...e.history,{id:c(),calculation:o,result:s(n,e.preferences.precision),timestamp:Date.now(),mode:e.mode}],error:null}}case"EQUALS_PRESSED":if(""!==e.equation){let{operand:r,operator:t}=u(e.equation);if(t){let a=parseFloat(e.display),n=l(r,a,t),o="".concat(r," ").concat(t," ").concat(a," = ").concat(s(n,e.preferences.precision));return{...e,display:s(n,e.preferences.precision),equation:"",waitingForNewValue:!0,history:[...e.history,{id:c(),calculation:o,result:s(n,e.preferences.precision),timestamp:Date.now(),mode:e.mode}],error:null}}}return e;case"CLEAR_ALL":return{...e,display:"0",equation:"",waitingForNewValue:!1,error:null};case"CLEAR_ENTRY":return{...e,display:"0",error:null};case"DECIMAL_INPUT":if(e.waitingForNewValue)return{...e,display:"0.",waitingForNewValue:!1,error:null};if(-1===e.display.indexOf("."))return{...e,display:e.display+".",error:null};return e;case"BACKSPACE":if(e.display.length>1)return{...e,display:e.display.slice(0,-1),error:null};return{...e,display:"0",error:null};case"MODE_CHANGE":{let{mode:t,preserveState:a}=r.payload;return a?{...e,mode:t,error:null}:{...p,mode:t,preferences:e.preferences}}case"HISTORY_ACTION":{let{action:t}=r.payload;if("clear"===t)return{...e,history:[],error:null};return e}case"SET_PREFERENCES":return{...e,preferences:{...e.preferences,...r.payload},error:null};case"SET_ERROR":return{...e,error:r.payload};default:return e}}catch(r){return{...e,error:r instanceof Error?r.message:"Calculation error",display:"Error"}}}function y(e){let{children:r,initialState:t}=e,[l,s]=(0,n.useReducer)(d,{...p,...t}),[u,c]=(0,n.useTransition)(),y={inputNumber:(0,n.useCallback)(e=>{s({type:"NUMBER_INPUT",payload:{digit:e,append:!0}})},[]),inputOperator:(0,n.useCallback)(e=>{c(()=>{s({type:"OPERATOR_INPUT",payload:{operator:e,precedence:1}})})},[]),callFunction:(0,n.useCallback)(e=>{let r=parseFloat(l.display);c(()=>{s({type:"FUNCTION_CALL",payload:{function:e,value:r}})})},[l.display]),pressEquals:(0,n.useCallback)(()=>{c(()=>{s({type:"EQUALS_PRESSED"})})},[]),clearAll:(0,n.useCallback)(()=>{s({type:"CLEAR_ALL"})},[]),clearEntry:(0,n.useCallback)(()=>{s({type:"CLEAR_ENTRY"})},[]),inputDecimal:(0,n.useCallback)(()=>{s({type:"DECIMAL_INPUT"})},[]),backspace:(0,n.useCallback)(()=>{s({type:"BACKSPACE"})},[]),changeMode:(0,n.useCallback)(function(e){let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];s({type:"MODE_CHANGE",payload:{mode:e,preserveState:r}})},[]),clearHistory:(0,n.useCallback)(()=>{s({type:"HISTORY_ACTION",payload:{action:"clear"}})},[]),undo:(0,n.useCallback)(()=>{s({type:"HISTORY_ACTION",payload:{action:"undo"}})},[]),redo:(0,n.useCallback)(()=>{s({type:"HISTORY_ACTION",payload:{action:"redo"}})},[]),updatePreferences:(0,n.useCallback)(e=>{s({type:"SET_PREFERENCES",payload:e})},[])};return(0,a.jsx)(o.Rb,{value:l,children:(0,a.jsx)(i.nT,{value:y,children:r})})}},1472:(e,r,t)=>{"use strict";t.d(r,{Rb:()=>l,nr:()=>i});var a=t(5155),n=t(2115);let o=(0,n.createContext)(void 0);function i(){let e=(0,n.useContext)(o);if(void 0===e)throw Error("useCalculatorState must be used within a CalculatorProvider");return e}function l(e){let{children:r,value:t}=e;return(0,a.jsx)(o.Provider,{value:t,children:r})}},2542:(e,r,t)=>{"use strict";t.d(r,{nT:()=>l,p5:()=>i});var a=t(5155),n=t(2115);let o=(0,n.createContext)(void 0);function i(){let e=(0,n.useContext)(o);if(void 0===e)throw Error("useCalculatorActions must be used within a CalculatorProvider");return e}function l(e){let{children:r,value:t}=e;return(0,a.jsx)(o.Provider,{value:t,children:r})}},7922:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,347,23)),Promise.resolve().then(t.bind(t,914))}},e=>{var r=r=>e(e.s=r);e.O(0,[690,441,684,358],()=>r(7922)),_N_E=e.O()}]);